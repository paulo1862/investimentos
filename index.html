<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Investimentos 2025</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <h1>Investimentos 2025</h1>
        <div class="actions">
            <button class="btn btn-refresh" onclick="atualizarTudo()">üîÑ Sincronizar Cota√ß√µes</button>
            <a href="adicionar_ativo.html" class="btn btn-add">+ Novo Ativo</a>
        </div>
    </header>

    <div class="container">
        <!-- TOP 10 B3 -->
        <div class="card">
            <h2>Mercado Hoje (Top 10 B3)</h2>
            <table>
                <thead>
                    <tr><th>Ticker</th><th>Nome da Empresa</th><th>Pre√ßo Atual</th><th>Varia√ß√£o</th></tr>
                </thead>
                <tbody id="corpo-top10"><tr><td colspan="4">Carregando dados da bolsa...</td></tr></tbody>
            </table>
        </div>

        <!-- MINHA CARTEIRA -->
        <div class="card">
            <h2>Minha Carteira</h2>
            <table>
                <thead>
                    <tr><th>Ativo</th><th>Corretora</th><th>Qtd</th><th>P. M√©dio</th><th>Pre√ßo Mercado</th><th>Valor Atual</th><th>Resultado</th><th>A√ß√£o</th></tr>
                </thead>
                <tbody id="corpo-carteira"></tbody>
            </table>
        </div>
    </div>

    <script>
        const TOKEN = "en4hSkmZoFaEh9oQeFsqqM";
        const TOP_10 = "VALE3,PETR4,ITUB4,ABEV3,BBDC4,BBAS3,WEGE3,ITSA4,RENT3,SANB11";

        // Fun√ß√£o corrigida para requisi√ß√£o segura em 2025
        async function buscarPrecos(listaTickers) {
            const url = `
